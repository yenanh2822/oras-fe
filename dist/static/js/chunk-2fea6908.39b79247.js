(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fea6908"],{"0380":function(t,e,o){"use strict";var n=o("73a8"),i=o.n(n);i.a},"09f4":function(t,e,o){"use strict";o.d(e,"a",(function(){return s})),Math.easeInOutQuad=function(t,e,o,n){return t/=n/2,t<1?o/2*t*t+e:(t--,-o/2*(t*(t-2)-1)+e)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function i(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function a(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function s(t,e,o){var s=a(),l=t-s,r=20,c=0;e="undefined"===typeof e?500:e;var u=function t(){c+=r;var a=Math.easeInOutQuad(c,s,l,e);i(a),c<e?n(t):o&&"function"===typeof o&&o()};u()}},"73a8":function(t,e,o){},"76fe":function(t,e,o){"use strict";o.d(e,"g",(function(){return i})),o.d(e,"f",(function(){return a})),o.d(e,"e",(function(){return s})),o.d(e,"d",(function(){return l})),o.d(e,"b",(function(){return r})),o.d(e,"h",(function(){return c})),o.d(e,"a",(function(){return u})),o.d(e,"c",(function(){return d})),o.d(e,"i",(function(){return p}));var n=o("b775");function i(t){return Object(n["a"])({url:"/v1/job-management/open-job-by-creator-id/"+t,method:"get"})}function a(t){return Object(n["a"])({url:"/v1/job-management/jobs-paging?&title="+t.title+"&currency="+t.currency+"&numOfElement="+t.limit+"&page="+t.page+"&sort="+t.sort+"&status="+t.status,method:"get"})}function s(t,e){return Object(n["a"])({url:"/v1/job-management/job-by-creator-id?id="+t+"&title="+e.title+"&currency="+e.currency+"&numOfElement="+e.limit+"&page="+e.page+"&sort="+e.sort+"&status="+e.status,method:"get"})}function l(t){return Object(n["a"])({url:"/v1/job-management/job/"+t,method:"get"})}function r(t,e){return Object(n["a"])({url:"/v1/job-management/job",method:e,data:t})}function c(t){return Object(n["a"])({url:"/v1/job-management/job/"+t+"/publish",method:"put"})}function u(t){return Object(n["a"])({url:"/v1/job-management/job/"+t+"/close",method:"put"})}function d(){return Object(n["a"])({url:"/v1/job-management/categories",method:"get"})}function p(t){return Object(n["a"])({url:"/v1/job-management/remove",method:"delete",data:t})}},ffdd:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-container"},[o("el-row",[o("el-col",{attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:24},xl:{span:24}}},[o("div",{staticClass:"title-container"},[o("strong",{staticStyle:{"font-size":"36px"}},[t._v(t._s(t.$t("route.jobList")))]),o("br")])]),o("el-col",{attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:12},xl:{span:12}}},[o("div",{staticClass:"filter-container"},[o("el-input",{staticClass:"filter-item",staticStyle:{width:"250px","margin-right":"10px"},attrs:{placeholder:t.$t("job.title"),maxlength:t.fmaxLength.titleLength},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.listQuery.title,callback:function(e){t.$set(t.listQuery,"title",e)},expression:"listQuery.title"}}),o("el-select",{staticClass:"filter-item",staticStyle:{width:"130px","margin-right":"10px"},attrs:{placeholder:t.$t("job.status"),clearable:""},on:{change:t.handleFilter},model:{value:t.listQuery.status,callback:function(e){t.$set(t.listQuery,"status",e)},expression:"listQuery.status"}},t._l(t.statusOptions,(function(t){return o("el-option",{key:t,attrs:{label:t,value:t}})})),1),o("el-button",{staticClass:"filter-item",staticStyle:{"margin-right":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v(" "+t._s(t.$t("btn.search"))+" ")]),"user"===t.accountRole?o("router-link",{attrs:{to:"/job/create"}},[o("el-button",{staticClass:"filter-item",staticStyle:{"margin-right":"10px"},attrs:{type:"primary",icon:"el-icon-edit"}},[t._v(" "+t._s(t.$t("btn.new"))+" ")])],1):t._e(),"user"===t.accountRole?o("el-button",{staticClass:"filter-item",attrs:{loading:t.removeLoading,type:"danger",icon:"el-icon-remove-outline"},on:{click:function(e){t.confirmRemoveDialog=!0}}},[t._v(" "+t._s(t.$t("btn.remove"))+" ")]):t._e()],1)])],1),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""},on:{"sort-change":t.sortChange,"selection-change":t.handleSelectionChange}},["user"===t.accountRole?o("el-table-column",{attrs:{type:"selection",align:"center",selectable:t.canSelectRow}}):t._e(),o("el-table-column",{attrs:{align:"center",label:t.$t("job.no"),width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.$index+1+(t.listQuery.page-1)*t.listQuery.limit))])]}}])}),o("el-table-column",{attrs:{label:t.$t("job.title"),prop:"title",sortable:"custom",width:"300px","class-name":t.getSortClass("title")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[o("router-link",{attrs:{to:"Draft"!==n.status?"/job/candidates/"+n.id:"/job/edit/"+n.id}},[o("span",{staticClass:"link-type",staticStyle:{display:"block","word-wrap":"normal"},domProps:{innerHTML:t._s(n.title)}})])]}}])}),o("el-table-column",{attrs:{label:t.$t("job.description"),"min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[o("span",{staticClass:"link-type",staticStyle:{"white-space":"nowrap",color:"#606266"},on:{click:function(e){return t.viewDetail(n)}}},[t._v(t._s(t.stripHtml(n.description)))])]}}])}),o("el-table-column",{attrs:{label:t.$t("job.creator"),width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[o("span",[t._v(t._s(n.accountByCreatorId.fullname))])]}}])}),o("el-table-column",{attrs:{label:t.$t("job.published"),prop:"publishDate",sortable:"custom",width:"120px",align:"center","class-name":t.getSortClass("publishDate")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[o("span",[t._v(t._s(n.applyFrom&&new Date(n.applyFrom).toLocaleDateString("en-GB")))])]}}])}),o("el-table-column",{attrs:{label:t.$t("job.deadline"),prop:"deadline",sortable:"custom",width:"120px",align:"center","class-name":t.getSortClass("deadline")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[o("span",[t._v(t._s(new Date(n.applyTo).toLocaleDateString("en-GB")))])]}}])}),o("el-table-column",{attrs:{label:t.$t("job.salary"),width:"220px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[o("span",[t._v(t._s(t._f("currencyFilter")(n.currency))+" "+t._s(t._f("toThousandFilter")(n.salaryFrom))+" - "+t._s(t._f("toThousandFilter")(n.salaryTo)))])]}}])}),o("el-table-column",{attrs:{label:t.$t("job.status"),"class-name":"status-col",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[o("el-tag",{attrs:{type:t._f("statusFilter")(n.status)}},[t._v(" "+t._s(n.status)+" ")])]}}])}),"admin"!==t.accountRole?o("el-table-column",{attrs:{align:"center",label:t.$t("job.actions"),width:"100px","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("router-link",{attrs:{to:"/job/reopen/"+e.row.id}},[o("el-tooltip",{attrs:{content:t.$t("job.ttReopen"),placement:"top"}},["Closed"===e.row.status?o("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-copy-document"}}):t._e()],1)],1),o("el-tooltip",{attrs:{content:t.$t("job.ttPublish"),placement:"top"}},["Draft"===e.row.status?o("el-button",{attrs:{loading:t.btnLoading,type:"success",size:"small",icon:"el-icon-upload2"},on:{click:function(o){return t.handlePublishJob(e.row.id)}}}):t._e()],1),o("el-tooltip",{attrs:{content:t.$t("job.ttClose"),placement:"top"}},["Published"===e.row.status?o("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-circle-close"},on:{click:function(o){t.confirmDialog=!0,t.rowId=e.row.id}}}):t._e()],1)]}}],null,!1,1576405227)}):t._e()],1),o("el-dialog",{attrs:{title:"Job Detail",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("el-form",{ref:"dataForm",staticStyle:{width:"90%","margin-left":"50px"},attrs:{"label-position":"left","label-width":"70px"}},[o("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:t.$t("job.title")+":",prop:"title","label-width":"100px"}},[o("span",[t._v(t._s(t.temp.title))])]),o("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:t.$t("job.category")+":",prop:"category","label-width":"100px"}},[o("span",[t._v(t._s(t.temp.category))])]),o("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:t.$t("job.salary")+":",prop:"salary","label-width":"100px"}},[o("span",[t._v(t._s(t._f("currencyFilter")(t.temp.currency))+" "+t._s(t._f("toThousandFilter")(t.temp.salaryFrom))+" - "+t._s(t._f("toThousandFilter")(t.temp.salaryTo)))])]),o("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:t.$t("job.vacancies")+":",prop:"vacancies","label-width":"100px"}},[o("span",[t._v(t._s(t.temp.vacancies))])]),o("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:t.$t("job.created")+":",prop:"created","label-width":"100px"}},[o("span",[t._v(t._s(new Date(t.temp.createDate).toLocaleString("en-GB")))])]),o("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:t.$t("job.published")+":",prop:"published","label-width":"100px"}},[o("span",[t._v(t._s(new Date(t.temp.applyFrom).toLocaleString("en-GB")))])]),o("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:t.$t("job.deadline")+":",prop:"deadline","label-width":"100px"}},[o("span",[t._v(t._s(new Date(t.temp.applyTo).toLocaleString("en-GB")))])]),o("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:t.$t("job.description")+":",prop:"description","label-width":"150px"}}),o("el-form-item",{staticStyle:{"margin-bottom":"0px","max-height":"320px","overflow-y":"scroll"},attrs:{label:"",prop:"description","label-width":"100px"}},[o("span",{domProps:{innerHTML:t._s(t.temp.description)}})])],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1),o("el-dialog",{attrs:{visible:t.showDialog,width:"33%"},on:{"update:visible":function(e){t.showDialog=e}}},[o("span",{attrs:{slot:"title"},slot:"title"},[o("svg-icon",{attrs:{"class-name":"size-icon","icon-class":t.hasError?"failed":"success"}}),t._v(" "+t._s(t.dialogTitle))],1),o("p",{staticClass:"message",domProps:{innerHTML:t._s(t.message)}})]),o("el-dialog",{attrs:{visible:t.confirmDialog,width:"33%"},on:{"update:visible":function(e){t.confirmDialog=e}}},[o("span",{attrs:{slot:"title"},slot:"title"},[o("svg-icon",{attrs:{"class-name":"size-icon","icon-class":"warning"}}),t._v(" Confirmation")],1),o("p",{staticClass:"message"},[t._v("Do you really want to close this job?")]),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.confirmDialog=!1}}},[t._v(" "+t._s(t.$t("btn.cancel"))+" ")]),o("el-button",{attrs:{type:"danger",loading:t.btnLoading},on:{click:function(e){return t.handleCloseJob(t.rowId)}}},[t._v(" "+t._s(t.$t("btn.confirm"))+" ")])],1)]),o("el-dialog",{attrs:{visible:t.confirmRemoveDialog,width:"33%"},on:{"update:visible":function(e){t.confirmRemoveDialog=e}}},[o("span",{attrs:{slot:"title"},slot:"title"},[o("svg-icon",{attrs:{"class-name":"size-icon","icon-class":"warning"}}),t._v(" "+t._s(t.$t("cf.titleRemove")))],1),o("p",{staticClass:"message"},[t._v(t._s(t.$t("cf.msgRemove")))]),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.confirmRemoveDialog=!1}}},[t._v(" "+t._s(t.$t("btn.cancel"))+" ")]),o("el-button",{attrs:{type:"danger",loading:t.btnLoading},on:{click:function(e){return t.handleRemove(t.rowId)}}},[t._v(" "+t._s(t.$t("btn.remove"))+" ")])],1)]),o("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getJobList}})],1)},i=[],a=(o("d81d"),o("76fe")),s=o("333d"),l=o("4360"),r={name:"ArticleList",components:{Pagination:s["a"]},filters:{statusFilter:function(t){var e={Published:"success",Draft:"info",Closed:"danger"};return e[t]}},data:function(){return{fmaxLength:l["b"],list:null,total:0,listLoading:!0,listQuery:{page:1,limit:10,title:"",status:"",currency:"",sort:"-applyFrom"},sortTitleTemp:"descending",sortPublishTemp:"descending",sortDeadlineTemp:"descending",statusOptions:["Draft","Published","Closed"],currencyOptions:["VND","USD","SGD","EUR","JPY","CNY"],message:"",showDialog:!1,rowId:void 0,confirmDialog:!1,btnLoading:!1,hasError:!1,dialogTitle:"",temp:{id:void 0,title:"",salary:0,vacancies:0,created:"",published:"",deadline:"",description:"",status:"published"},removeLoading:!1,dialogFormVisible:!1,confirmRemoveDialog:!1,multipleSelection:[]}},computed:{accountId:function(){return this.$store.state.user.accId},accountRole:function(){return this.$store.state.user.roles[0]}},created:function(){this.getJobList()},methods:{canSelectRow:function(t,e){return"Draft"===t.status},handleSelectionChange:function(t){this.multipleSelection=t},handleRemove:function(){var t=this,e=this.multipleSelection.map((function(t){return t.id}));this.removeLoading=!0,Object(a["i"])(e).then((function(e){console.log(e.data),t.getJobList(),t.confirmRemoveDialog=!1,t.removeLoading=!1}))},handlePublishJob:function(t){var e=this;this.btnLoading=!0,Object(a["h"])(t).then((function(t){e.$notify({title:"Success",message:"Publish the post successfully",type:"success",duration:2e3}),e.btnLoading=!1,e.getJobList()})).catch((function(t){e.dialogTitle=t.response.data.message,e.hasError=!0,402===t.response.data.status&&(e.message="You have run out of job posts.<br>Please try to select and purchase other packages!"),e.showDialog=!0,e.btnLoading=!1}))},handleCloseJob:function(t){var e=this;this.btnLoading=!0,Object(a["a"])(t).then((function(t){e.$notify({title:"Success",message:"Close the post successfully",type:"success",duration:2e3}),e.confirmDialog=!1,e.btnLoading=!1,e.getJobList()})).catch((function(){e.btnLoading=!1}))},stripHtml:function(t){var e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""},getJobList:function(){var t=this;this.listLoading=!0,"admin"===this.accountRole?Object(a["f"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.total,t.listLoading=!1})):Object(a["e"])(this.accountId,this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.total,t.listLoading=!1}))},viewDetail:function(t){this.temp=Object.assign({},t),this.dialogFormVisible=!0},sortChange:function(t){var e=t.prop,o=t.order;"title"===e?("ascending"===this.sortTitleTemp?this.sortTitleTemp="descending":this.sortTitleTemp="ascending",console.log(o,this.sortTitleTemp),this.sortByTitle(this.sortTitleTemp)):"publishDate"===e?("ascending"===this.sortPublishTemp?this.sortPublishTemp="descending":this.sortPublishTemp="ascending",console.log(o,this.sortPublishTemp),this.sortByPublish(this.sortPublishTemp)):"deadline"===e&&("ascending"===this.sortDeadlineTemp?this.sortDeadlineTemp="descending":this.sortDeadlineTemp="ascending",console.log(o,this.sortDeadlineTemp),this.sortByDeadline(this.sortDeadlineTemp))},sortByTitle:function(t){console.log("sortByTitle"),this.listQuery.sort="ascending"===t?"+title":"-title",this.handleFilter()},sortByPublish:function(t){console.log("sortByPublish"),this.listQuery.sort="ascending"===t?"+applyFrom":"-applyFrom",this.handleFilter()},sortByDeadline:function(t){console.log("sortByDeadline"),this.listQuery.sort="ascending"===t?"+applyTo":"-applyTo",this.handleFilter()},handleFilter:function(){this.listQuery.page=1,this.getJobList()},getSortClass:function(t){var e=this.listQuery.sort;return e==="+".concat(t)?"ascending":"descending"}}},c=r,u=(o("0380"),o("2877")),d=Object(u["a"])(c,n,i,!1,null,"a1dc1e18",null);e["default"]=d.exports}}]);
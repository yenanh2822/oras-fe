(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40426673"],{"5c7c":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"createPost-container"},[a("el-form",{ref:"postForm",staticClass:"form-container",attrs:{model:t.postForm,rules:t.rules}},[a("sticky",{attrs:{"z-index":10,"class-name":"sub-navbar "+t.postForm.status}},[a("el-button",{staticStyle:{width:"105px"},attrs:{loading:t.loading},on:{click:function(e){return t.handleCancelAction()}}},[t._v(" "+t._s(t.$t("btn.discard"))+" ")]),a("el-button",{staticStyle:{"margin-left":"10px",width:"105px"},attrs:{loading:t.loading,type:"success"},on:{click:t.submitForm}},[t._v(" "+t._s(t.$t("btn.save"))+" ")])],1),a("div",{staticClass:"createPost-main-container"},[a("el-row",[a("div",{staticClass:"postInfo-container"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"name"}},[a("MDinput",{attrs:{"max-length":t.fmaxLength.pkgNameLength,name:"name",required:""},on:{change:function(e){t.isModified=!0}},model:{value:t.postForm.name,callback:function(e){t.$set(t.postForm,"name",e)},expression:"postForm.name"}},[t._v(" "+t._s(t.$t("package.name"))+" ")])],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"130px",prop:"tag",label:t.$t("package.tag")+":"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{"max-length":t.fmaxLength.pkgTagLength},on:{change:function(e){t.isModified=!0}},model:{value:t.postForm.tag,callback:function(e){t.$set(t.postForm,"tag",e)},expression:"postForm.tag"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"130px",label:t.$t("package.numOfPost")+":"}},[a("el-input-number",{staticStyle:{width:"300px"},attrs:{placeholder:"0",max:t.fmaxLength.postMax},on:{change:function(e){t.isModified=!0}},model:{value:t.postForm.numOfPost,callback:function(e){t.$set(t.postForm,"numOfPost",e)},expression:"postForm.numOfPost"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"130px",label:t.$t("package.price")+":"}},[a("el-input-number",{staticStyle:{width:"300px"},attrs:{"max-length":t.fmaxLength.priceLength,placeholder:"0"},on:{change:function(e){t.isModified=!0}},model:{value:t.postForm.price,callback:function(e){t.$set(t.postForm,"price",e)},expression:"postForm.price"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"130px",prop:"currency",label:t.$t("package.currency")+":"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{"remote-method":t.getCurrencyList,filterable:"","default-first-option":"",remote:"",placeholder:"Select currency..."},on:{change:function(e){t.isModified=!0}},model:{value:t.postForm.currency,callback:function(e){t.$set(t.postForm,"currency",e)},expression:"postForm.currency"}},t._l(t.currencyListOptions,(function(t,e){return a("el-option",{key:t+e,attrs:{label:t,value:t}})})),1)],1)],1)],1)],1)]),a("el-form-item",{attrs:{"label-width":"130px",label:t.$t("package.desc")+":"}},[a("el-input",{staticClass:"article-textarea",attrs:{rows:1,"max-length":t.fmaxLength.pkgDesLength,type:"textarea",autosize:"",placeholder:"Please enter the description"},on:{change:function(e){t.isModified=!0}},model:{value:t.postForm.description,callback:function(e){t.$set(t.postForm,"description",e)},expression:"postForm.description"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.contentShortLength,expression:"contentShortLength"}],staticClass:"word-counter"},[t._v(t._s(t.contentShortLength)+"words")])],1)],1)],1),a("el-dialog",{attrs:{visible:t.showCancelDialog,width:"33%"},on:{"update:visible":function(e){t.showCancelDialog=e}}},[a("span",{attrs:{slot:"title"},slot:"title"},[a("svg-icon",{attrs:{"class-name":"size-icon","icon-class":"warning"}}),t._v(" "+t._s(t.$t("cf.titleDiscard")))],1),a("p",{staticClass:"message",domProps:{innerHTML:t._s(t.$t("cf.msgDiscard"))}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("router-link",{attrs:{to:"/"}},[a("el-button",{staticStyle:{"margin-right":"10px"}},[t._v(" "+t._s(t.$t("btn.confirm"))+" ")])],1),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showCancelDialog=!1}}},[t._v(" "+t._s(t.$t("btn.close"))+" ")])],1)])],1)},o=[],i=(a("a4d3"),a("e01a"),a("4de4"),a("c975"),a("d81d"),a("b0c0"),a("1aba")),s=a("b804"),r=a("5f87"),c=a("a1f4"),l=a("4360"),u={method:"",source_uri:"",image_uri:"",display_time:void 0,id:void 0,data:{name:"",tag:"",numOfPost:0,duration:"",price:0,currency:"",description:"",createDate:(new Date).toISOString(),creatorId:Object(r["c"])()}},m={name:"JobDetail",components:{MDinput:i["a"],Sticky:s["a"]},props:{isEdit:{type:Boolean,default:!1}},data:function(){var t=this,e=function(e,a,n){""===a?(t.$message({message:e.field+" is required",type:"error"}),n(new Error(e.field+" is required"))):n()};return{money:{decimal:",",thousands:",",prefix:"",suffix:"",precision:0},fmaxLength:l["b"],postForm:Object.assign({},u.data),loading:!1,currencyListOptions:[],durationListOptions:[],rules:{title:[{validator:e}],content:[{validator:e}],currency:[{validator:e}]},tempRoute:{},showCancelDialog:!1,isModified:!1}},computed:{contentShortLength:function(){return this.postForm.description.length},displayTime:{get:function(){return+new Date(this.postForm.display_time)},set:function(t){this.postForm.display_time=new Date(t)}}},created:function(){if(this.getCurrencyList(""),this.getDurationList(""),this.isEdit){var t=this.$route.params&&this.$route.params.id;this.fetchData(t),this.method="put"}else this.method="post";this.tempRoute=Object.assign({},this.$route)},methods:{fetchData:function(t){var e=this;Object(c["h"])(t).then((function(t){e.postForm=t.data,e.setTagsViewTitle(),e.setPageTitle()})).catch((function(t){console.log(t)}))},setTagsViewTitle:function(){var t="Edit Package",e=Object.assign({},this.tempRoute,{title:"".concat(t,"-").concat(this.postForm.id)});this.$store.dispatch("tagsView/updateVisitedView",e)},setPageTitle:function(){var t="Edit Package";document.title="".concat(t," - ").concat(this.postForm.id)},submitForm:function(){var t=this;0!==this.postForm.description.length&&0!==this.postForm.name.length?this.$refs.postForm.validate((function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0,t.postForm.createDate=(new Date).toISOString(),t.postForm.duration=30,t.isEdit||(t.postForm.active=!0);var a="";a=t.isEdit?"Save package successfully":"Create new package successfully",Object(c["e"])(t.postForm,t.method).then((function(e){t.postForm.id=e.data.id,t.$notify({title:"Success",message:a,type:"success",duration:2e3}),t.loading=!1,t.$router.back()})).catch((function(){t.loading=!1}))})):this.$message({message:"Please fill in the required title and contents",type:"warning"})},draftForm:function(){0!==this.postForm.description.length&&0!==this.postForm.name.length?(this.postForm.status="Draft",this.$store.dispatch()):this.$message({message:"Please fill in the required title and contents",type:"warning"})},getCurrencyList:function(t){var e=[{name:"VND"},{name:"USD"},{name:"SGD"},{name:"EUR"},{name:"JPY"},{name:"CNY"}],a=e.filter((function(e){var a=e.name.toLowerCase();return!(t&&a.indexOf(t.toLowerCase())<0)}));this.currencyListOptions=a.map((function(t){return t.name}))},getDurationList:function(t){var e=[{name:"30 days"},{name:"90 days"},{name:"6 months"},{name:"12 months"}],a=e.filter((function(e){var a=e.name.toLowerCase();return!(t&&a.indexOf(t.toLowerCase())<0)}));this.durationListOptions=a.map((function(t){return t.name}))},handleCancelAction:function(){this.isModified?this.showCancelDialog=!0:this.$router.push("/")}}},p=m,d=(a("be22"),a("2877")),g=Object(d["a"])(p,n,o,!1,null,"aa2dbd64",null);e["a"]=g.exports},6788:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("package-detail",{attrs:{"is-edit":!0}})},o=[],i=a("5c7c"),s={name:"EditPackage",components:{PackageDetail:i["a"]}},r=s,c=a("2877"),l=Object(c["a"])(r,n,o,!1,null,null,null);e["default"]=l.exports},a1f4:function(t,e,a){"use strict";a.d(e,"i",(function(){return o})),a.d(e,"g",(function(){return i})),a.d(e,"h",(function(){return s})),a.d(e,"f",(function(){return r})),a.d(e,"k",(function(){return c})),a.d(e,"j",(function(){return l})),a.d(e,"b",(function(){return u})),a.d(e,"c",(function(){return m})),a.d(e,"e",(function(){return p})),a.d(e,"d",(function(){return d})),a.d(e,"a",(function(){return g}));a("b0c0");var n=a("b775");function o(){return Object(n["a"])({url:"/v1/package-management/packages",method:"get"})}function i(){return Object(n["a"])({url:"/v1/package-management/active-packages",method:"get"})}function s(t){return Object(n["a"])({url:"/v1/package-management/package/"+t,method:"get"})}function r(t){return Object(n["a"])({url:"/v1/account-package-management/account-packages-paging?name="+t.name+"&package="+t.package+"&status="+t.status+"&numOfElement="+t.limit+"&page="+t.page+"&sort="+t.sort,method:"get"})}function c(t){return Object(n["a"])({url:"/v1/account-package-management/starter-package/"+t,method:"post"})}function l(t){return Object(n["a"])({url:"/v1/account-package-management/current-account-package-by-account-id/"+t,method:"get"})}function u(t){return Object(n["a"])({url:"/v1/account-package-management/cancel-account-package/"+t,method:"put"})}function m(t){return Object(n["a"])({url:t,method:"get"})}function p(t,e){return Object(n["a"])({url:"/v1/package-management/package",method:e,data:t})}function d(t){return Object(n["a"])({url:"/v1/package-management/deactivate",method:"put",data:t})}function g(t){return Object(n["a"])({url:"/v1/package-management/activate",method:"put",data:t})}},be22:function(t,e,a){"use strict";var n=a("be67"),o=a.n(n);o.a},be67:function(t,e,a){}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f60889ac"],{4565:function(e,t,n){"use strict";var o=n("6bec"),a=n.n(o);a.a},"4bbd":function(e,t,n){"use strict";var o=n("5607"),a=n.n(o);a.a},5607:function(e,t,n){},5723:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"j",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return u})),n.d(t,"g",(function(){return g})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"k",(function(){return h}));n("b0c0");var o=n("b775");function a(e){return Object(o["a"])({url:"/v1/account-management/accounts-paging?&name="+e.name+"&status="+e.status+"&role="+e.role+"&numOfElement="+e.limit+"&page="+e.page+"&sort="+e.sort,method:"get"})}function r(e){return Object(o["a"])({url:"/v1/account-management/account/"+e,method:"get"})}function i(e){return Object(o["a"])({url:"/v1/account-management/update-account",method:"put",data:e})}function s(e,t){return Object(o["a"])({url:"/v1/account-management/account-by-admin",method:t,data:e})}function c(e){return Object(o["a"])({url:"/v1/account-management/change-password-account",method:"put",data:e})}function l(e){return Object(o["a"])({url:"/v1/company-management/companies-paging?name="+e.name+"&status="+e.status+"&numOfElement="+e.limit+"&page="+e.page+"&sort="+e.sort,method:"get"})}function m(e){return Object(o["a"])({url:"/v1/company-management/company-by-user",method:"put",data:e})}function p(e){return Object(o["a"])({url:"/v1/company-management/company-by-admin",method:"put",data:e})}function u(e,t){return Object(o["a"])({url:"/v1/company-management/company/verify?id="+e+"&email="+t,method:"put"})}function g(e,t){return Object(o["a"])({url:"/v1/company-management/company/reject?id="+e+"&email="+t,method:"put"})}function d(e){return Object(o["a"])({url:"/v1/company-management/check-company-name",method:"get",params:e})}function f(e){return Object(o["a"])({url:"/v1/company-management/company/account-company/"+e,method:"get"})}function h(e,t){return Object(o["a"])({url:"/v1/company-management/change-avatar?id="+e+"&avaUrl="+t,method:"put"})}},"6bec":function(e,t,n){},d5c2:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register-container"},[n("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.registerRules,autocomplete:"on","label-position":"left"}},[n("div",{staticClass:"logo-container"},[n("img",{staticClass:"logo",attrs:{src:e.logo}})]),n("div",{staticClass:"title-container"},[n("h3",{staticClass:"title"},[e._v(" "+e._s(e.$t("register.title"))+" ")]),n("p",{staticClass:"quote"},[e._v(" "+e._s(e.$t("register.quote"))+" ")])]),n("div",{staticClass:"form-container"},[n("el-form-item",{attrs:{prop:"fullname"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"user"}})],1),n("el-input",{ref:"fullname",attrs:{placeholder:e.$t("register.fullname"),name:"fulname",maxlength:e.fmaxLength.nameLength,type:"text",tabindex:"1",autocomplete:"on"},model:{value:e.registerForm.fullname,callback:function(t){e.$set(e.registerForm,"fullname",t)},expression:"registerForm.fullname"}})],1),n("el-form-item",{attrs:{prop:"email"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"email"}})],1),n("el-input",{ref:"email",attrs:{placeholder:e.$t("register.email"),name:"email",type:"text",maxlength:e.fmaxLength.emailLength,tabindex:"2",autocomplete:"on"},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}})],1),n("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[n("el-form-item",{attrs:{prop:"password"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"user"}})],1),n("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:e.$t("register.password"),name:"password",maxlength:e.fmaxLength.passwordLength,tabindex:"3",autocomplete:"on"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:function(t){return e.checkCapslock(t)}},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}}),n("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[n("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1)],1),n("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[n("el-form-item",{attrs:{prop:"confirmPwd"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"password"}})],1),n("el-input",{key:e.passwordType,ref:"confirmPwd",attrs:{type:"password",placeholder:e.$t("register.confirmPwd"),name:"confirmPwd",maxlength:e.fmaxLength.passwordLength,tabindex:"4",autocomplete:"on"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:function(t){return e.checkCapslock(t)}},model:{value:e.registerForm.confirmPwd,callback:function(t){e.$set(e.registerForm,"confirmPwd",t)},expression:"registerForm.confirmPwd"}})],1)],1),n("el-form-item",{attrs:{prop:"phoneNo"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"phone"}})],1),n("el-input",{ref:"phoneNo",attrs:{placeholder:e.$t("register.phoneNo"),name:"phoneNo",maxlength:e.fmaxLength.phoneLength,type:"text",tabindex:"5",autocomplete:"on"},model:{value:e.registerForm.phoneNo,callback:function(t){e.$set(e.registerForm,"phoneNo",t)},expression:"registerForm.phoneNo"}})],1),n("br"),n("div",{staticStyle:{"margin-bottom":"10px"}},[n("span",{staticStyle:{color:"#aaa","font-size":"14px","margin-left":"15px"}},[e._v(" "+e._s(e.$t("register.info"))+" ")])]),n("el-form-item",{attrs:{prop:"compName"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"building"}})],1),n("el-input",{ref:"compName",attrs:{placeholder:e.$t("register.compName"),name:"compName",maxlength:e.fmaxLength.compNameLength,type:"text",tabindex:"6",autocomplete:"on"},model:{value:e.registerForm.compName,callback:function(t){e.$set(e.registerForm,"compName",t)},expression:"registerForm.compName"}})],1),n("el-form-item",{attrs:{prop:"location"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"pin"}})],1),n("el-input",{ref:"location",attrs:{placeholder:e.$t("register.location"),name:"location",maxlength:e.fmaxLength.locationLength,type:"text",tabindex:"7",autocomplete:"on"},model:{value:e.registerForm.location,callback:function(t){e.$set(e.registerForm,"location",t)},expression:"registerForm.location"}})],1),n("el-form-item",{attrs:{prop:"compEmail"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"email"}})],1),n("el-input",{ref:"compEmail",attrs:{placeholder:e.$t("register.compEmail"),name:"compEmail",maxlength:e.fmaxLength.emailLength,type:"text",tabindex:"8",autocomplete:"on"},model:{value:e.registerForm.compEmail,callback:function(t){e.$set(e.registerForm,"compEmail",t)},expression:"registerForm.compEmail"}})],1),n("el-form-item",{attrs:{prop:"compPhone"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"old-typical-phone"}})],1),n("el-input",{ref:"compPhone",attrs:{placeholder:e.$t("register.compPhone"),name:"compPhone",maxlength:e.fmaxLength.phoneLength,type:"text",tabindex:"9",autocomplete:"on"},model:{value:e.registerForm.compPhone,callback:function(t){e.$set(e.registerForm,"compPhone",t)},expression:"registerForm.compPhone"}})],1),n("el-form-item",{attrs:{prop:"taxCode"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"taxes"}})],1),n("el-input",{ref:"taxCode",attrs:{placeholder:e.$t("register.taxCode"),name:"taxCode",maxlength:e.fmaxLength.taxCodeLength,type:"text",tabindex:"10",autocomplete:"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSignup(t)}},model:{value:e.registerForm.taxCode,callback:function(t){e.$set(e.registerForm,"taxCode",t)},expression:"registerForm.taxCode"}})],1),n("el-button",{staticClass:"oras-btn",staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading},nativeOn:{click:function(t){return t.preventDefault(),e.handleSignup(t)}}},[e._v(" "+e._s(e.$t("register.regIn"))+" ")]),n("div",{staticStyle:{"text-align":"right"}},[n("router-link",{attrs:{to:"/login?redirect=%2Fdashboard"}},[n("p",{staticStyle:{"font-style":"italic",color:"rgb(91 104 111)"}},[e._v(" "+e._s(e.$t("register.login"))+" ")])])],1)],1)]),n("el-dialog",{attrs:{title:e.dialogTitle,visible:e.showDialog,width:"33%"},on:{"update:visible":function(t){e.showDialog=t}}},[n("p",{staticClass:"message"},[e._v(e._s(e.message))])])],1)},a=[],r=(n("13d5"),n("b64b"),n("61f7")),i=n("5723"),s=n("4360"),c={name:"Register",data:function(){var e=this,t=function(e,t,n){0===t.length?n(new Error("The name can not be empty.")):n()},n=function(e,t,n){Object(r["e"])(t)?n():n(new Error("Please enter a valid email."))},o=function(e,t,n){t.length<6?n(new Error("The password can not be less than 6 digits.")):n()},a=function(t,n,o){n!==e.registerForm.password?o(new Error("The confirmation password is invalid.")):o()},c=function(e,t,n){Object(r["d"])(t)?n():n(new Error("The phone number only contains digits."))},l=function(t,n,o){if(0===n.length)o(new Error("The company name can not be empty."));else{var a={name:e.compName};Object(i["b"])(a).then((function(){o()})).catch((function(){o(new Error("This company name already exist."))}))}},m=function(e,t,n){0===t.length?n(new Error("The location can not be empty.")):n()},p=function(e,t,n){Object(r["e"])(t)?n():n(new Error("Please enter a valid email."))},u=function(e,t,n){Object(r["d"])(t)?n():n(new Error("The tax code only contains digits."))};return{logo:"https://oras-myfile.s3-ap-southeast-1.amazonaws.com/1607931466649-logo_2.png",fmaxLength:s["b"],registerForm:{fullname:"",email:"",password:"",confirmPwd:"",phoneNo:"",compName:"",location:"",compEmail:"",compPhone:"",taxCode:""},registerRules:{fullname:[{required:!0,trigger:"blur",validator:t}],email:[{required:!0,trigger:"blur",validator:n}],password:[{required:!0,trigger:"blur",validator:o}],confirmPwd:[{required:!0,trigger:"blur",validator:a}],phoneNo:[{required:!0,trigger:"blur",validator:c}],compName:[{required:!0,trigger:"blur",validator:l}],location:[{required:!0,trigger:"blur",validator:m}],compEmail:[{required:!0,trigger:"blur",validator:p}],compPhone:[{required:!0,trigger:"blur",validator:c}],taxCode:[{required:!0,trigger:"blur",validator:u}]},passwordType:"password",capsTooltip:!1,loading:!1,showDialog:!1,redirect:void 0,otherQuery:{},dialogTitle:"",message:""}},watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},created:function(){},mounted:function(){this.$refs.fullname.focus()},destroyed:function(){},methods:{checkCapslock:function(e){var t=e.key;this.capsTooltip=t&&1===t.length&&t>="A"&&t<="Z"},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleSignup:function(){var e=this;this.$refs.registerForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("user/signup",e.registerForm).then((function(){e.$router.push({path:e.redirect||"/login",query:e.otherQuery}),e.loading=!1})).catch((function(t){e.loading=!1,e.dialogTitle="Something went wrong!",e.message=t.response.data.message,e.showDialog=!0}))}))},getOtherQuery:function(e){return Object.keys(e).reduce((function(t,n){return"redirect"!==n&&(t[n]=e[n]),t}),{})}}},l=c,m=(n("4565"),n("4bbd"),n("2877")),p=Object(m["a"])(l,o,a,!1,null,"30689d48",null);t["default"]=p.exports}}]);